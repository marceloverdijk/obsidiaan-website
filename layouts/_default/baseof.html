<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ .Site.Title }}{{ if .Page.Title }} - {{ .Page.Title }}{{ end }}</title>
    {{/* START CSS */}}
    {{ $cssOptions := dict
         "transpiler" "dartsass"
         "targetPath" "assets/css/styles.css"
         "includePaths" (slice "node_modules")
         "enableSourceMap" true
    }}
    {{ if hugo.IsProduction }}
    {{   $cssOptions = merge $cssOptions (dict "enableSourceMap" false "outputStyle" "compressed") }}
    {{ end }}
    {{ $styles := resources.Get "scss/styles.scss" | toCSS $cssOptions | postCSS }}
    {{ if hugo.IsProduction }}
    {{   $styles = $styles | fingerprint }}
    {{ end }}
    <link rel="stylesheet" href="{{ $styles.RelPermalink }}" {{ if hugo.IsProduction }}integrity="{{ $styles.Data.Integrity }}"{{ end }} crossorigin="anonymous">
    {{/* END CSS */}}
  </head>
  <body>
    {{ partialCached "header.html" . }}
    <main>
      {{ block "main" . }}
      {{ end }}
    </main>
    {{ partialCached "footer.html" . }}
    {{/* START JS */}}
    {{ $jqueryJs := resources.Get "assets/js/jquery/jquery.slim.js" }}
    {{ $bootstrapJs := resources.Get "assets/js/bootstrap/bootstrap.bundle.js" }}
    {{ if hugo.IsProduction }}
    {{   $jqueryJs = resources.Get "assets/js/jquery/jquery.slim.min.js" | fingerprint }}
    {{   $bootstrapJs = resources.Get "assets/js/bootstrap/bootstrap.bundle.min.js" | fingerprint }}
    {{ end }}
    <script src="{{ $jqueryJs.RelPermalink }}" {{ if hugo.IsProduction }}integrity="{{ $jqueryJs.Data.Integrity }}"{{ end }} crossorigin="anonymous"></script>
    <script src="{{ $bootstrapJs.RelPermalink }}" {{ if hugo.IsProduction }}integrity="{{ $bootstrapJs.Data.Integrity }}"{{ end }} crossorigin="anonymous"></script>
    {{/* END JS */}}
  </body>
</html>
